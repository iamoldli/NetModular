(window.webpackJsonp=window.webpackJsonp||[]).push([["admin.auditinfo"],{"354f":function(e,t,l){"use strict";var a={mixins:[l("1f9e").b.select],data:function(){return{action:$api.admin.moduleInfo.select}}},o=l("2877"),i=Object(o.a)(a,void 0,void 0,!1,null,null,null);t.a=i.exports},"8a59":function(e,t,l){"use strict";l.r(t);var a=(l("b0c0"),l("900e")),o=[{name:"id",label:"编号",show:!1},{name:"accountName",label:"账户"},{name:"module",label:"模块"},{name:"controller",label:"控制器"},{name:"action",label:"方法"},{name:"platformName",label:"平台"},{name:"ip",label:"IP"},{name:"executionTime",label:"执行时间"},{name:"executionDuration",label:"执行用时(ms)"}],i=l("1f9e"),n=$api.admin.auditInfo,r={mixins:[i.b.drawer],data:function(){return{drawer:{header:!0,title:"审计日志详情",icon:"log",width:"600px",draggable:!0},model:{}}},props:["id"],methods:{get:function(){var e=this;""!==this.id?n.details(this.id).then((function(t){e.model=t})):this._warning("请选择要查看的数据~")}},watch:{id:function(){this.id>0&&this.get()}}},s=l("2877"),d=Object(s.a)(r,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("nm-drawer",e._b({attrs:{visible:e.visible_},on:{"update:visible":function(t){e.visible_=t}}},"nm-drawer",e.drawer,!1),[l("el-form",{attrs:{"label-width":"120px",disabled:""}},[l("el-form-item",{attrs:{label:"账户："}},[e._v(e._s(e.model.accountName))]),l("el-form-item",{attrs:{label:"模块："}},[e._v(e._s(e.model.module)+"("+e._s(e.model.area)+")")]),l("el-form-item",{attrs:{label:"控制器："}},[e._v(e._s(e.model.controller)+"("+e._s(e.model.controllerDesc)+")")]),l("el-form-item",{attrs:{label:"方法："}},[e._v(e._s(e.model.action)+"("+e._s(e.model.actionDesc)+")")]),l("el-form-item",{attrs:{label:"执行时间："}},[e._v(e._s(e.model.executionTime))]),l("el-form-item",{attrs:{label:"用时："}},[e._v(e._s(e.model.executionDuration)+"ms")]),l("el-form-item",{attrs:{label:"IP："}},[e._v(e._s(e.model.ip))]),l("el-form-item",{attrs:{label:"平台："}},[e._v(e._s(e.model.platformName))]),l("el-form-item",{attrs:{label:"浏览器信息："}},[l("el-input",{attrs:{type:"textarea",value:e.model.browserInfo,rows:5}})],1),l("el-form-item",{attrs:{label:"参数："}},[l("el-input",{attrs:{type:"textarea",value:e.model.parameters,rows:10}})],1),l("el-form-item",{attrs:{label:"结果："}},[l("el-input",{attrs:{type:"textarea",value:e.model.result,rows:10}})],1)],1)],1)}),[],!1,null,null,null).exports,m=l("354f"),u=$api.admin.auditInfo,c={name:a.default.name,components:{DetailsPage:d,ModuleInfoSelect:m.a},data:function(){return{list:{title:a.default.title,action:u.query,labelWidth:"60px",advanced:{enabled:!0,labelWidth:"100px"},model:{accountId:"",moduleCode:"",startTime:"",endTime:""},cols:o},detailsPage:{visible:!1,id:0},buttons:a.default.buttons}},methods:{refresh:function(){this.$refs.list.refresh()},details:function(e){this.detailsPage.id=e.id,this.detailsPage.visible=!0}}},f=Object(s.a)(c,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("nm-container",[l("nm-list",e._b({ref:"list",scopedSlots:e._u([{key:"querybar",fn:function(){return[l("el-form-item",{attrs:{label:"模块：",prop:"moduleCode"}},[l("module-info-select",{model:{value:e.list.model.moduleCode,callback:function(t){e.$set(e.list.model,"moduleCode",t)},expression:"list.model.moduleCode"}})],1),l("el-form-item",{attrs:{label:"账户：",prop:"accountId"}},[l("el-input",{model:{value:e.list.model.accountId,callback:function(t){e.$set(e.list.model,"accountId",t)},expression:"list.model.accountId"}})],1)]},proxy:!0},{key:"querybar-advanced",fn:function(){return[l("el-row",[l("el-col",{attrs:{span:20,offset:1}},[l("el-form-item",{attrs:{label:"开始时间：",prop:"startTime"}},[l("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.list.model.startTime,callback:function(t){e.$set(e.list.model,"startTime",t)},expression:"list.model.startTime"}})],1),l("el-form-item",{attrs:{label:"结束时间：",prop:"startTime"}},[l("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.list.model.endTime,callback:function(t){e.$set(e.list.model,"endTime",t)},expression:"list.model.endTime"}})],1)],1)],1)]},proxy:!0},{key:"col-moduleName",fn:function(t){var a=t.row;return[l("span",[e._v(e._s(a.moduleName)+"("+e._s(a.area)+")")])]}},{key:"col-controller",fn:function(t){var a=t.row;return[l("span",[e._v(e._s(a.controllerDesc)+"("+e._s(a.controller)+")")])]}},{key:"col-action",fn:function(t){var a=t.row;return[l("span",[e._v(e._s(a.actionDesc)+"("+e._s(a.action)+")")])]}},{key:"col-executionDuration",fn:function(t){var a=t.row;return[l("span",[e._v(e._s(a.executionDuration)+"ms")])]}},{key:"col-operation",fn:function(t){var a=t.row;return[l("nm-button",e._b({on:{click:function(t){return e.details(a)}}},"nm-button",e.buttons.details,!1))]}}])},"nm-list",e.list,!1)),l("details-page",{attrs:{id:e.detailsPage.id,visible:e.detailsPage.visible},on:{"update:visible":function(t){return e.$set(e.detailsPage,"visible",t)}}})],1)}),[],!1,null,null,null);t.default=f.exports}}]);